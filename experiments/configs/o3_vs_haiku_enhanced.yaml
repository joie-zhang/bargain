# Enhanced O3 vs Claude Haiku Configuration
# This extends the baseline experiment with full parameterization support

config_name: "o3_vs_haiku_enhanced"
description: "Enhanced O3 vs Claude Haiku experiment with full model configuration system"
version: "2.0"

# Provider configurations
providers:
  openai:
    provider: "openai"
    requests_per_minute: 30  # Conservative rate limiting for O3
    tokens_per_minute: 50000
    max_retries: 3
    retry_delay: 2.0
    exponential_backoff: true
    connect_timeout: 15.0
    read_timeout: 45.0

  anthropic:
    provider: "anthropic"
    requests_per_minute: 60
    tokens_per_minute: 100000
    max_retries: 3
    retry_delay: 1.0
    exponential_backoff: true
    connect_timeout: 10.0
    read_timeout: 30.0

# Available models for this experiment
available_models:
  o3:
    display_name: "OpenAI O3"
    family: "openai_o_series"
    provider: "openai"
    api_model_name: "o3"
    context_window: 200000
    supports_system_prompt: true
    supports_function_calling: true
    reasoning_capability: "high"
    estimated_speed: "slow"
    input_cost_per_1m: 60.0  # Estimated cost per 1M input tokens
    output_cost_per_1m: 180.0  # Estimated cost per 1M output tokens

  claude-3-haiku:
    display_name: "Claude 3 Haiku"
    family: "claude"
    provider: "anthropic"
    api_model_name: "claude-3-haiku-20240307"
    context_window: 200000
    supports_system_prompt: true
    reasoning_capability: "medium"
    estimated_speed: "fast"
    input_cost_per_1m: 0.25
    output_cost_per_1m: 1.25

# Agent configurations for competitive negotiation
agents:
  # Single O3 agent (stronger model)
  - agent_id: "agent_1_o3"
    model_id: "o3"
    temperature: 0.7
    max_output_tokens: 2048
    strategic_level: "balanced"
    reasoning_steps: true
    system_prompt: |
      You are Agent 1 in a multi-party negotiation for allocating items among participants.
      
      Your goal is to maximize your own utility while engaging in fair negotiation.
      You have your own preferences for different items, and other agents have theirs.
      
      Key principles:
      - Be strategic but fair in your proposals
      - Consider the preferences of other agents to build consensus
      - Use logical reasoning to support your proposals
      - Adapt your strategy based on how the negotiation progresses
      
      Remember: You need unanimous agreement to reach a consensus.
    custom_parameters:
      reasoning_effort: "high"  # O3-specific parameter

  # Two Claude Haiku agents (weaker models)
  - agent_id: "agent_2_haiku"
    model_id: "claude-3-haiku"
    temperature: 0.7
    max_output_tokens: 1536
    strategic_level: "balanced"
    reasoning_steps: true
    system_prompt: |
      You are Agent 2 in a multi-party negotiation for allocating items among participants.
      
      Your goal is to maximize your own utility while participating constructively in the negotiation.
      You have your own preferences for different items, and other agents have theirs.
      
      Key principles:
      - Propose allocations that benefit you while being reasonable to others
      - Pay attention to other agents' stated preferences
      - Be willing to compromise to reach consensus
      - Support your proposals with clear reasoning
      
      Remember: You need unanimous agreement to reach a consensus.

  - agent_id: "agent_3_haiku"
    model_id: "claude-3-haiku"
    temperature: 0.7
    max_output_tokens: 1536
    strategic_level: "balanced"
    reasoning_steps: true
    system_prompt: |
      You are Agent 3 in a multi-party negotiation for allocating items among participants.
      
      Your goal is to maximize your own utility while participating constructively in the negotiation.
      You have your own preferences for different items, and other agents have theirs.
      
      Key principles:
      - Propose allocations that benefit you while being reasonable to others
      - Pay attention to other agents' stated preferences and proposals
      - Be willing to compromise but don't give up too easily
      - Use clear reasoning to support your positions
      
      Remember: You need unanimous agreement to reach a consensus.

# Default API keys (will use environment variables)
default_api_keys: {}

# Validation rules specific to this experiment
validation_rules:
  max_o3_agents: 1  # Cost control
  min_agents: 3
  max_agents: 3
  temperature_range: [0.5, 1.0]
  require_system_prompt_support: true
  
  # Experiment-specific validations
  must_have_o3: true  # Ensure we have the strong model
  must_have_weaker_models: true  # Ensure we have baseline models for comparison