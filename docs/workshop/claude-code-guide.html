<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code Guide - From Basics to Custom Commands</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #0c0c0c;
            color: #00ff00;
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .guide-container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: #1a1a1a;
            border: 2px solid #00ff00;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 0 40px rgba(0, 255, 0, 0.3);
        }
        
        .header {
            text-align: center;
            border: 3px double #00ff00;
            padding: 20px;
            margin-bottom: 30px;
            background-color: #0a0a0a;
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { box-shadow: 0 0 10px rgba(0, 255, 0, 0.5); }
            to { box-shadow: 0 0 20px rgba(0, 255, 0, 0.8); }
        }
        
        h1 {
            font-size: 28px;
            color: #00ff00;
            text-shadow: 0 0 10px rgba(0, 255, 0, 0.8);
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #88ff88;
            font-size: 16px;
        }
        
        .toc {
            background-color: #0a0a0a;
            border: 1px solid #00ff00;
            padding: 20px;
            margin: 30px 0;
        }
        
        .toc h2 {
            color: #00ff00;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .toc-list {
            list-style: none;
        }
        
        .toc-list li {
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
        }
        
        .toc-list li::before {
            content: "‚ñ∏ ";
            color: #00ff00;
            position: absolute;
            left: 0;
        }
        
        .toc-list a {
            color: #88ff88;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .toc-list a:hover {
            color: #ffff00;
            text-shadow: 0 0 5px rgba(255, 255, 0, 0.5);
        }
        
        .section {
            margin: 40px 0;
            padding: 25px;
            background-color: #0f0f0f;
            border-left: 3px solid #00ff00;
        }
        
        .section-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            cursor: pointer;
            user-select: none;
        }
        
        .section-header:hover {
            opacity: 0.8;
        }
        
        .collapse-icon {
            color: #00ff00;
            font-size: 20px;
            transition: transform 0.3s;
        }
        
        .collapsed .collapse-icon {
            transform: rotate(-90deg);
        }
        
        h2 {
            color: #00ff00;
            font-size: 20px;
            text-shadow: 0 0 5px rgba(0, 255, 0, 0.5);
        }
        
        h3 {
            color: #00ff00;
            font-size: 16px;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        .section-content {
            color: #ccffcc;
            transition: max-height 0.3s ease-out;
            overflow: hidden;
        }
        
        .collapsed .section-content {
            max-height: 0;
        }
        
        p {
            margin: 10px 0;
        }
        
        .code-block {
            background-color: #000;
            border: 1px solid #00ff00;
            padding: 15px;
            margin: 15px 0;
            font-size: 12px;
            overflow-x: auto;
            color: #88ff88;
            border-radius: 4px;
        }
        
        .code-block.multiline {
            white-space: pre;
        }
        
        .command {
            color: #00ff00;
            font-weight: bold;
            background-color: #0a0a0a;
            padding: 2px 6px;
            border-radius: 3px;
            border: 1px solid #00ff00;
        }
        
        .highlight {
            color: #ffff00;
            text-shadow: 0 0 5px rgba(255, 255, 0, 0.8);
        }
        
        .note {
            background-color: #001a00;
            border: 1px solid #00ff00;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .note::before {
            content: "üìù NOTE: ";
            color: #ffff00;
            font-weight: bold;
        }
        
        .tip {
            background-color: #0a1a0a;
            border: 1px solid #88ff88;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .tip::before {
            content: "üí° TIP: ";
            color: #88ff88;
            font-weight: bold;
        }
        
        .example {
            background-color: #0a0a1a;
            border: 1px solid #8888ff;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .example::before {
            content: "üìã EXAMPLE: ";
            color: #8888ff;
            font-weight: bold;
        }
        
        ul, ol {
            margin: 10px 0;
            padding-left: 30px;
        }
        
        li {
            margin: 5px 0;
        }
        
        a {
            color: #88ff88;
            text-decoration: underline;
        }
        
        a:hover {
            color: #ffff00;
            text-shadow: 0 0 5px rgba(255, 255, 0, 0.5);
        }
        
        .external-link::after {
            content: " ‚Üó";
            font-size: 12px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        th, td {
            border: 1px solid #00ff00;
            padding: 10px;
            text-align: left;
        }
        
        th {
            background-color: #0a0a0a;
            color: #00ff00;
        }
        
        .separator {
            border: none;
            border-top: 1px dashed #00ff00;
            margin: 30px 0;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            border-top: 1px solid #00ff00;
            color: #88ff88;
        }
        
        .inline-code {
            background-color: #0a0a0a;
            padding: 2px 6px;
            border-radius: 3px;
            color: #88ff88;
            font-size: 0.9em;
        }
        
        @media (max-width: 768px) {
            body {
                font-size: 12px;
                padding: 10px;
            }
            
            .guide-container {
                padding: 15px;
            }
            
            h1 {
                font-size: 22px;
            }
            
            h2 {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <div class="guide-container">
        <div class="header">
            <h1>CLAUDE CODE GUIDE</h1>
            <div class="subtitle">From Basic Setup to Custom Commands & Hooks</div>
            <p><a href="https://docs.anthropic.com/en/docs/claude-code/overview" class="external-link">Claude Code Anthropic Overview</a>.</p>
        </div>
        
        <!-- Table of Contents -->
        <div class="toc">
            <h2>üìö Table of Contents</h2>
            <ul class="toc-list">
                <li><a href="#installation">Installation & Setup</a></li>
                <li><a href="#where-claude-lives">Where Claude Lives</a></li>
                <li><a href="#basic-usage">Basic Usage</a></li>
                <li><a href="#built-in-commands">Built-in Commands</a></li>
                <li><a href="#claude-md">The CLAUDE.md File</a></li>
                <li><a href="#working-with-files">Working with Files</a></li>
                <li><a href="#git-integration">Git Integration</a></li>
                <li><a href="#custom-commands">Custom Commands</a></li>
                <li><a href="#hooks">Hooks</a></li>
                <li><a href="#settings">Settings & Configuration</a></li>
                <li><a href="#permissions">Permissions</a></li>
                <li><a href="#common-workflows">Common Workflows</a></li>
                <li><a href="#troubleshooting">Troubleshooting</a></li>
                <li><a href="#tips">Tips & Best Practices</a></li>
                <li><a href="#resources">Additional Resources</a></li>
            </ul>
        </div>
               
        <!-- Installation -->
        <div class="section" id="installation">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>Installation & Setup</h2>
            </div>
            <div class="section-content">
                
                <h3>Installation</h3>
                <div class="code-block multiline">$ npm install -g @anthropic-ai/claude-code
$ claude --version</div>
                
                <h3>Terminal Configuration</h3>
                <p>Claude Code works best when your terminal is properly configured. Optimal terminal setup ensures smooth interactions, proper display of output, and better overall experience.</p>
                <ul>
                    <li>Use a modern terminal emulator (iTerm2, Windows Terminal, Alacritty, etc.)</li>
                    <li>Enable UTF-8 encoding for proper character display</li>
                    <li>Consider increasing scrollback buffer for long sessions</li>
                    <li>Terminal colors and themes can improve readability</li>
                </ul>
                <p>Terminal configuration is system-dependent. For detailed platform-specific setup instructions, see the <a href="https://docs.anthropic.com/en/docs/claude-code/terminal-config" class="external-link">terminal configuration guide</a>.</p>
                
                <h3>Initial Setup (API Key, Account Login)</h3>
                <div class="code-block multiline">$ claude
> Enter your Anthropic API key: sk-ant-...
> Choose your default model: claude-3-opus-20240229
> Enable auto-update checks? (y/n): y
> ...</div>
                
                <div class="example">
                    Here's a complete first-time setup:
                    <div class="code-block multiline">$ npm install -g @anthropic-ai/claude-code
$ cd ~/my-project
$ claude
$ > "Help me understand this codebase"</div>
                </div>
                
                <p>For detailed setup instructions, see the <a href="https://docs.anthropic.com/en/docs/claude-code/quickstart" class="external-link">quickstart guide</a>.</p>
            </div>
        </div>
        
        <!-- Where Claude Lives -->
        <div class="section" id="where-claude-lives">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>Where Claude Lives</h2>
            </div>
            <div class="section-content">
                <p>Claude Code uses a hierarchical configuration system with three levels:</p>
                
                <h3>1. User Configuration (Global)</h3>
                <p>Location: <span class="inline-code">~/.claude/</span></p>
                <ul>
                    <li><span class="inline-code">~/.claude/settings.json</span> - Global settings</li>
                    <li><span class="inline-code">~/.claude/logs/</span> - Session logs</li>
                    <li><span class="inline-code">~/.claude/pages/</span> - Saved sessions</li>
                </ul>
                
                <h3>2. Project Configuration</h3>
                <p>Location: <span class="inline-code">.claude/</span> in your project root</p>
                <ul>
                    <li><span class="inline-code">.claude/settings.json</span> - Project-specific settings</li>
                    <li><span class="inline-code">.claude/commands/</span> - Custom commands</li>
                    <li><span class="inline-code">.claude/hooks/</span> - Hook scripts</li>
                </ul>
                
                <h3>3. Local Configuration</h3>
                <p>Location: <span class="inline-code">.claude/settings.local.json/</span> (gitignored)</p>
                <ul>
                    <li><span class="inline-code">.claude/settings.local.json</span> - Personal overrides</li>
                </ul>
                
                <div class="note">
                    Settings cascade: Local ‚Üí Project ‚Üí User. More specific settings override general ones.
                </div>
                
                <div class="example">
                    Check your current configuration:
                    <div class="code-block multiline">$ claude config list
$ claude config set temperature 0.7
$ claude config set --project model claude-3-opus-20240229</div>
                </div>
                <p>For all of the possible settings and parameters you can adjust, see the <a href="https://docs.anthropic.com/en/docs/claude-code/settings#available-settings" class="external-link">available claude code settings</a>. Many of these can be adjusted in the Claude Code session as well.</p>
            </div>
        </div>
        
        <!-- Basic Usage -->
        <div class="section" id="basic-usage">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>Basic Usage</h2>
            </div>
            <div class="section-content">
                <h3>Starting a Conversation</h3>
                <div class="code-block multiline"># Ask a question
$ claude "What does this project do?"

# Continue in interactive mode
$ claude
> Help me add error handling to main.py
> Run the tests
> exit</div>
                
                <h3>Common Tasks</h3>
                <div class="code-block multiline"># Explain code
$ claude "Explain the authentication flow in auth.py"

# Make changes
$ claude "Add input validation to the user registration function"

# Debug issues
$ claude "Why is this test failing?" -f tests/test_auth.py

# Generate code
$ claude "Create a Python script that processes CSV files"</div>
                
                <h3>Including Files (Atypical Workflow)</h3>
                <div class="code-block multiline"># Include specific files
$ claude "Refactor this code" -f src/main.py -f src/utils.py

# Include from stdin
$ cat error.log | claude "What's causing this error?"</div>
                
                <div class="tip">
                    This is NOT A TYPICAL WORKFLOW. Attaching specific files is relatively unnecessary now, Claude Code and tools like it use the directory itself to search, identify, and load relevant and necessary files, both at the beginning of a task and as the task is ongoing.
                </div>
            </div>
        </div>
        
        <!-- Built-in Commands -->
        <div class="section" id="built-in-commands">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>Built-in Commands</h2>
            </div>
            <div class="section-content">
                <p>Claude Code includes several built-in slash commands for common tasks. In Claude Code, the full list of available commands appears when you start a prompt with "/". Outside of configuration, these are commons ones you may use in typical development workflows.</p>
                
                <h3>Essential Commands</h3>
                <table>
                    <tr>
                        <th>Command</th>
                        <th>Description</th>
                        <th>Example</th>
                    </tr>
                    <tr>
                        <td><span class="command">/clear</span></td>
                        <td>Clear the conversation history</td>
                        <td>/clear</td>
                    </tr>
                    <tr>
                        <td><span class="command">/compact</span></td>
                        <td>Show context usage statistics</td>
                        <td>/compact</td>
                    </tr>
                    <tr>
                        <td><span class="command">/help</span></td>
                        <td>Show available commands</td>
                        <td>/help</td>
                    </tr>
                    <tr>
                        <td><span class="command">/page</span></td>
                        <td>Save current session</td>
                        <td>/page checkpoint-1</td>
                    </tr>
                    <tr>
                        <td><span class="command">/permissions</span></td>
                        <td>Review current permissions</td>
                        <td>/permissions</td>
                    </tr>
                </table>
                
                <div class="example">
                    Managing context during long sessions:
                    <div class="code-block multiline">> /compact
Context usage: 45,231 / 200,000 tokens (22.6%)

> /page feature-implementation
Session saved to ~/.claude/pages/feature-implementation/

> /clear
Conversation cleared. Starting fresh!</div>
                </div>
                
                <p>See all commands in the <a href="https://docs.anthropic.com/en/docs/claude-code/slash-commands" class="external-link">slash commands documentation</a>, and remember you can see what you have available with "/".</p>
            </div>
        </div>
        
        <!-- CLAUDE.md -->
        <div class="section" id="claude-md">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>The CLAUDE.md File</h2>
            </div>
            <div class="section-content">
                <p>The <span class="inline-code">CLAUDE.md</span> file in your project root provides project-specific context and instructions to Claude. It's automatically read at the start of each conversation. It can be created by Claude Code (/init), and can be managed/updated by either CC or yourself. It can include code architecture details, typical scripts, requirements and TODOs, software stack requirements or expectations, or anything that might aid both Claude and anyone else who may try to start working on the repository.</p>
                
                <h3>Purpose</h3>
                <ul>
                    <li>Define project conventions and patterns</li>
                    <li>Specify coding standards and preferences</li>
                    <li>Document important context and constraints</li>
                    <li>Set behavioral guidelines for Claude</li>
                </ul>
                
                <h3>Example CLAUDE.md</h3>
                <div class="code-block multiline"># Project Context

This is a FastAPI web application for task management.

## Conventions

- Use Python 3.11+ features
- Follow PEP 8 with 88-char line limit (Black formatter)
- Prefer type hints for all functions
- Use Pydantic for data validation

## Architecture

- `api/` - REST API endpoints
- `models/` - SQLAlchemy models
- `services/` - Business logic
- `tests/` - Pytest test files

## Testing

Always write tests for new features:
```bash
pytest tests/ -v
```

## Important Notes

- Never commit API keys or secrets
- All database migrations must be reversible
- Maintain backwards compatibility in API changes</div>
                
                <div class="tip">
                    Keep your CLAUDE.md concise but comprehensive. Focus on what's unique about your project.
                </div>
                
                <p>Learn more about <a href="https://docs.anthropic.com/en/docs/claude-code/memory" class="external-link">memory management</a>.</p>
            </div>
        </div>
        
        <!-- Working with Files -->
        <div class="section" id="working-with-files">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>Working with Files</h2>
            </div>
            <div class="section-content">
                <p>Claude Code can read, write, and edit files in your project with appropriate permissions.</p>
                
                <h3>File Operations</h3>
                <div class="code-block multiline"># Read and analyze files
> Show me what's in config.py

# Edit existing files
> Add error handling to the parse_data function in utils.py

# Create new files
> Create a new test file for the auth module

# Search across files
> Find all TODO comments in the codebase

# Refactor code
> Rename the 'process_item' function to 'process_order' everywhere</div>
                
                <h3>Safety Features</h3>
                <p>Claude Code includes multiple safety mechanisms to protect your work:</p>
                
                <h4>File Change Review</h4>
                <p>Claude always shows diffs before making changes:</p>
                <div class="code-block multiline">--- a/src/utils.py
+++ b/src/utils.py
@@ -10,7 +10,10 @@ def parse_data(raw_data):
     """Parse raw data into structured format"""
-    data = json.loads(raw_data)
+    try:
+        data = json.loads(raw_data)
+    except json.JSONDecodeError as e:
+        raise ValueError(f"Invalid JSON data: {e}")
     return data

Apply this change? (y/n):</div>
                
                <h4>Permission Controls</h4>
                <p>By default, Claude Code requires approval for potentially dangerous operations. You have full control over what Claude can do through the permissions system.</p>
                
                <h4>Skipping Permissions (Use with Caution)</h4>
                <p>The <span class="command">--dangerously-skip-permissions</span> flag bypasses all safety prompts:</p>
                <div class="code-block">$ claude --dangerously-skip-permissions "Fix all the bugs"</div>
                
                <div class="note">
                    <strong>WARNING:</strong> This flag is dangerous! It allows Claude to make changes without your review. Only use it in:
                    <ul style="margin-top: 5px;">
                        <li>Isolated containers or VMs</li>
                        <li>Disposable environments</li>
                        <li>Automated CI/CD pipelines with proper safeguards</li>
                    </ul>
                </div>
                
            </div>
        </div>
        
        <!-- Git Integration -->
        <div class="section" id="git-integration">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>Git Integration</h2>
            </div>
            <div class="section-content">
                <p>Claude Code integrates seamlessly with Git for version control operations.</p>
                
                <h3>Common Git Tasks</h3>
                <div class="code-block multiline"># Check status
> What changes have I made?

# Stage changes
> Stage all the Python files I modified

# Commit
> Commit these changes with a descriptive message

# Branch operations
> Create a new feature branch for the authentication updates

# View history
> Show me the last 5 commits</div>
                
                <h3>Example Git Workflow</h3>
                <div class="example">
                    Complete feature implementation:
                    <div class="code-block multiline">> Create a new branch for adding user profiles
Running: git checkout -b feature/user-profiles

> Implement a user profile model with name, bio, and avatar fields
[Creates models/user_profile.py]

> Add tests for the user profile model
[Creates tests/test_user_profile.py]

> Run the tests
Running: pytest tests/test_user_profile.py -v
All tests passed!

> Commit these changes
Running: git add models/user_profile.py tests/test_user_profile.py
Running: git commit -m "feat: Add user profile model with tests"</div>
                </div>
                
                <div class="note">
                    Claude respects your <span class="inline-code">.gitignore</span> patterns and won't commit sensitive files. The next sections, alongside the examples in this repository, can be used to automate git workflows using commands and hooks.
                </div>
            </div>
        </div>
        
        <!-- Custom Commands -->
        <div class="section" id="custom-commands">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>Custom Commands</h2>
            </div>
            <div class="section-content">
                <p>Create custom slash commands to automate repetitive tasks and workflows specific to your project.</p>
                
                <h3>Creating a Custom Command</h3>
                <p>Custom commands are Markdown files in <span class="inline-code">.claude/commands/</span>:</p>
                
                <div class="example">
                    Simple test runner command (<span class="inline-code">.claude/commands/test.md</span>):
                    <div class="code-block multiline">---
name: test
description: Run tests with coverage report
---

Run the test suite with coverage reporting and display results.

Steps:
1. First, let me check which test framework you're using
2. Run tests with coverage
3. Show coverage report
4. Highlight any failures or low coverage areas

If tests fail, I'll help debug the issues.</div>
                </div>
                
                <h3>More Complex Example</h3>
                <div class="example">
                    Database migration command (<span class="inline-code">.claude/commands/migrate.md</span>):
                    <div class="code-block multiline">---
name: migrate
description: Create and apply database migrations
params:
  - name: action
    description: "create or apply"
  - name: message
    description: "Migration description (for create)"
---

Handle database migrations for the project.

{{#if (eq action "create")}}
Create a new migration named "{{message}}":
1. Generate migration file with timestamp
2. Add skeleton for up/down migrations
3. Show file location
{{else if (eq action "apply")}}
Apply pending migrations:
1. Check current migration status
2. Show pending migrations
3. Apply migrations in order
4. Verify database state
{{else}}
Please specify action: create or apply
{{/if}}</div>
                </div>
                
                <h3>Using Custom Commands</h3>
                <div class="code-block multiline"># List available commands
> /help

# Run your custom command
> /test

# With parameters
> /migrate create "add user preferences table"</div>
                
                <div class="tip">
                    Check out more custom commands in the repo.
                </div>
                
                <p>Learn more in the <a href="https://docs.anthropic.com/en/docs/claude-code/slash-commands#custom-slash-commands" class="external-link">custom commands guide</a>.</p>
            </div>
        </div>
        
        <!-- Hooks -->
        <div class="section" id="hooks">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>Hooks</h2>
            </div>
            <div class="section-content">
                <p>Hooks allow you to run scripts automatically in response to Claude's actions, enabling powerful automation workflows.</p>
                
                <h3>Types of Hooks</h3>
                <ul>
                    <li><strong>PreToolHook</strong> - Before any tool use</li>
                    <li><strong>PostToolHook</strong> - After any tool use</li>
                    <li><strong>PreWriteHook</strong> - Before file writes</li>
                    <li><strong>PostWriteHook</strong> - After file writes</li>
                    <li><strong>PreEditHook</strong> - Before file edits</li>
                    <li><strong>PostEditHook</strong> - After file edits</li>
                    <li><strong>PreBashHook</strong> - Before shell commands</li>
                    <li><strong>PostBashHook</strong> - After shell commands</li>
                </ul>
                
                <h3>Simple Hook Example</h3>
                <div class="example">
                    Auto-format Python files (<span class="inline-code">.claude/hooks/format_python.sh</span>):
                    <div class="code-block multiline">#!/bin/bash
# PostWriteHook, PostEditHook

# Check if the modified file is Python
if [[ "$CLAUDE_HOOK_PARAMS_PATH" == *.py ]]; then
    echo "Formatting Python file with Black..."
    black "$CLAUDE_HOOK_PARAMS_PATH"
fi</div>
                </div>
                
                <h3>Git Auto-commit Hook</h3>
                <div class="example">
                    Auto-commit on file changes (<span class="inline-code">.claude/hooks/auto_commit.sh</span>):
                    <div class="code-block multiline">#!/bin/bash
# PostWriteHook, PostEditHook

# Only run if in a git repository
if git rev-parse --git-dir > /dev/null 2>&1; then
    FILE="$CLAUDE_HOOK_PARAMS_PATH"
    
    # Stage the file
    git add "$FILE"
    
    # Create a descriptive commit message
    if [ "$CLAUDE_HOOK_EVENT" = "PostWriteHook" ]; then
        git commit -m "Create $FILE via Claude Code"
    else
        git commit -m "Update $FILE via Claude Code"
    fi
fi</div>
                </div>
                
                <h3>Test Runner Hook</h3>
                <div class="example">
                    Run tests after code changes (<span class="inline-code">.claude/hooks/run_tests.py</span>):
                    <div class="code-block multiline">#!/usr/bin/env python3
# PostEditHook

import os
import subprocess
import json

# Get hook parameters
params = json.loads(os.environ.get('CLAUDE_HOOK_PARAMS', '{}'))
file_path = params.get('path', '')

# Only run tests for source code changes
if file_path.startswith('src/') and file_path.endswith('.py'):
    print(f"Running tests after change to {file_path}...")
    
    # Run specific test file if it exists
    test_file = file_path.replace('src/', 'tests/test_').replace('.py', '.py')
    if os.path.exists(test_file):
        subprocess.run(['pytest', test_file, '-v'])
    else:
        # Run all tests
        subprocess.run(['pytest', 'tests/', '-v'])</div>
                </div>
                
                <h3>Configuring Hooks</h3>
                <p>Enable hooks in <span class="inline-code">.claude/settings.json</span>:</p>
                <div class="code-block multiline">{
  "hooks": {
    "PostWriteHook": [".claude/hooks/format_python.sh", ".claude/hooks/auto_commit.sh"],
    "PostEditHook": [".claude/hooks/format_python.sh", ".claude/hooks/run_tests.py"],
    "PreBashHook": [".claude/hooks/safety_check.sh"]
  }
}</div>
                
                <div class="note">
                    Hooks run with the same permissions as Claude Code. Always test hooks thoroughly before enabling them.
                </div>
                
                <p>More examples and patterns in the <a href="https://docs.anthropic.com/en/docs/claude-code/hooks" class="external-link">hooks documentation</a>.</p>
            </div>
        </div>
        
        <!-- Settings -->
        <div class="section" id="settings">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>Settings & Configuration</h2>
            </div>
            <div class="section-content">
                <p>Claude Code uses a hierarchical settings system that allows configuration at user, project, and local levels.</p>
                
                <h3>Configuration Files</h3>
                <table>
                    <tr>
                        <th>Level</th>
                        <th>Location</th>
                        <th>Purpose</th>
                    </tr>
                    <tr>
                        <td>User</td>
                        <td><span class="inline-code">~/.claude/settings.json</span></td>
                        <td>Global defaults</td>
                    </tr>
                    <tr>
                        <td>Project</td>
                        <td><span class="inline-code">.claude/settings.json</span></td>
                        <td>Project-specific settings</td>
                    </tr>
                    <tr>
                        <td>Local</td>
                        <td><span class="inline-code">.claude.local/settings.json</span></td>
                        <td>Personal overrides (gitignored)</td>
                    </tr>
                </table>
                
                <h3>Example Settings File</h3>
                <div class="code-block multiline">{
  "model": "claude-3-opus-20240229",
  "temperature": 0.7,
  "permissions": {
    "file_write": true,
    "file_create": true,
    "command_execution": true
  },
  "tools": {
    "disabled": ["WebSearch"],
    "custom_instructions": {
      "Bash": "Always use set -euo pipefail for shell scripts"
    }
  },
  "behavior": {
    "auto_review_changes": true,
    "require_approval": true,
    "verbose_diffs": false
  }
}</div>
                
                <h3>Managing Settings</h3>
                <div class="code-block multiline"># View current settings
$ claude config list

# Set a value
$ claude config set temperature 0.5

# Set project-specific value
$ claude config set --project model claude-3-sonnet-20240620

# Set local override
$ claude config set --local api_key sk-ant-...</div>
                
                <div class="tip">
                    Use project settings for team standards and local settings for personal preferences.
                </div>
                
                <p>Full configuration options in the <a href="https://docs.anthropic.com/en/docs/claude-code/settings" class="external-link">settings reference</a>.</p>
            </div>
        </div>
        
        <!-- Permissions -->
        <div class="section" id="permissions">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>Permissions</h2>
            </div>
            <div class="section-content">
                <p>Claude Code uses a granular permission system to control what actions Claude can perform.</p>
                
                <h3>Permission Types</h3>
                <ul>
                    <li><strong>file_read</strong> - Read file contents</li>
                    <li><strong>file_write</strong> - Modify existing files</li>
                    <li><strong>file_create</strong> - Create new files</li>
                    <li><strong>file_delete</strong> - Delete files</li>
                    <li><strong>command_execution</strong> - Run shell commands</li>
                    <li><strong>web_access</strong> - Make web requests</li>
                </ul>
                
                <h3>Permission Configuration</h3>
                <div class="code-block multiline">{
  "permissions": {
    "file_write": true,
    "file_create": true,
    "file_delete": false,
    "command_execution": {
      "allowed": true,
      "require_approval": ["rm", "sudo", "pip install"],
      "blocked": ["curl", "wget"]
    },
    "path_restrictions": {
      "allowed_paths": ["src/", "tests/", "docs/"],
      "blocked_paths": [".git/", "node_modules/", ".env"]
    }
  }
}</div>
                
                <h3>Checking Permissions</h3>
                <div class="code-block multiline"># View current permissions
> /permissions

# Output:
Current permissions:
‚úì file_read: Allowed
‚úì file_write: Allowed
‚úì file_create: Allowed
‚úó file_delete: Blocked
‚úì command_execution: Allowed (with restrictions)
  - Require approval: rm, sudo, pip install
  - Blocked: curl, wget</div>
                
                <div class="note">
                    Always review permission settings when working on sensitive projects or shared systems.
                </div>
                
                <p>More about <a href="https://docs.anthropic.com/en/docs/claude-code/security" class="external-link">security and permissions</a>.</p>
            </div>
        </div>
        
        <!-- Common Workflows -->
        <div class="section" id="common-workflows">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>Common Workflows</h2>
            </div>
            <div class="section-content">
                <h3>Test-Driven Development (TDD)</h3>
                <div class="example">
                    TDD workflow example:
                    <div class="code-block multiline">> I need to create a function that validates email addresses

I'll help you create an email validation function using TDD. Let me start by writing tests.

[Creates tests/test_validators.py with test cases]

> Now implement the function to make the tests pass

[Creates src/validators.py with email_validator function]

> Run the tests

Running: pytest tests/test_validators.py -v
All tests passed!</div>
                </div>
                
                <h3>API Development</h3>
                <div class="example">
                    Building a REST API endpoint:
                    <div class="code-block multiline">> Add a new endpoint to get user preferences

I'll add a user preferences endpoint. First, let me understand your current API structure.

[Examines existing code]

Now I'll:
1. Create the data model
2. Add the endpoint
3. Write tests
4. Update documentation

[Creates all necessary files]

> Test the new endpoint

Running: pytest tests/test_preferences_api.py -v
Running: curl -X GET http://localhost:8000/api/users/123/preferences</div>
                </div>
                
                <h3>Debugging Workflow</h3>
                <div class="example">
                    Debugging a failing test:
                    <div class="code-block multiline">> The test_payment_processing test is failing

Let me investigate the failing test.

[Reads test file and implementation]

I found the issue. The test expects a decimal but the function returns a float. 
Here's the fix:

[Shows diff with fix]

> Apply the fix and run the test again

[Applies fix]
Running: pytest tests/test_payment.py::test_payment_processing -v
Test passed!</div>
                </div>
                
                <h3>Code Review Workflow</h3>
                <div class="code-block multiline"># Create a review-focused session
$ claude "Please act as a code reviewer. Focus on security, performance, and maintainability."

> Review the changes in the auth module

[Provides detailed code review with suggestions]</div>
                
                <p>More workflows in the <a href="https://docs.anthropic.com/en/docs/claude-code/common-workflows" class="external-link">common workflows guide</a>.</p>
            </div>
        </div>
        
        <!-- Troubleshooting -->
        <div class="section" id="troubleshooting">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>Troubleshooting</h2>
            </div>
            <div class="section-content">
                <p>If you encounter issues with Claude Code, these resources can help:</p>
                
                <h3>Helpful Resources</h3>
                <ul>
                    <li><a href="https://docs.anthropic.com/en/docs/claude-code/troubleshooting" class="external-link">Official Troubleshooting Guide</a> - Common issues and solutions</li>
                    <li><a href="https://docs.anthropic.com/en/docs/claude-code/cli-reference" class="external-link">CLI Reference</a> - Complete command options and flags</li>
                    <li><a href="https://github.com/anthropics/claude-code/issues" class="external-link">GitHub Issues</a> - Report bugs or search existing issues</li>
                    <li><a href="https://support.anthropic.com/" class="external-link">Anthropic Support</a> - Get help from the support team</li>
                </ul>
                
                <div class="tip">
                    Quick debugging tip: Use <span class="command">claude --debug</span> to enable verbose logging and see detailed information about what Claude Code is doing.
                </div>
            </div>
        </div>
        
        <!-- Tips -->
        <div class="section" id="tips">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>Tips & Best Practices</h2>
            </div>
            <div class="section-content">
                <h3>Context Management</h3>
                <ul>
                    <li>Keep context append-only for better caching</li>
                    <li>Use <span class="command">/compact</span> regularly to monitor usage</li>
                    <li>Page sessions before reaching 80% context</li>
                    <li>Clear conversation when switching tasks</li>
                </ul>
                
                <h3>Effective Prompting</h3>
                <ul>
                    <li>Be specific about requirements and constraints</li>
                    <li>Provide examples of desired output</li>
                    <li>Break complex tasks into smaller steps</li>
                    <li>Use "think step by step" for complex problems</li>
                </ul>
                
                <h3>File System as Memory</h3>
                <div class="tip">
                    The file system is unlimited context. Write important information to files:
                    <div class="code-block multiline">> Create a TODO.md file to track our progress
> Update the project notes with our decisions
> Save this configuration example to docs/examples/</div>
                </div>
                
                <h3>Essential Tools</h3>
                <ul>
                    <li>Install <strong>ripgrep</strong> for fast searching: <span class="inline-code">brew install ripgrep</span></li>
                    <li>Use <strong>git worktrees</strong> for parallel development (advanced)</li>
                    <li>Set up <strong>pre-commit hooks</strong> for code quality</li>
                </ul>
                
                <h3>Security Best Practices</h3>
                <ul>
                    <li>Never commit API keys or secrets</li>
                    <li>Review all changes before applying</li>
                    <li>Use restricted permissions on sensitive projects</li>
                    <li>Keep <span class="inline-code">.env</span> files in <span class="inline-code">.gitignore</span></li>
                </ul>
                
                <h3>Productivity Tips</h3>
                <ul>
                    <li>Create custom commands for repetitive tasks</li>
                    <li>Use hooks for automatic formatting and testing</li>
                    <li>Leverage system prompts for specialized roles</li>
                    <li>Batch related changes together</li>
                </ul>
                
                <div class="note">
                    Remember: Claude Code is a powerful tool. Start simple and gradually add more automation as you get comfortable.
                </div>
            </div>
        </div>
        
        <!-- Resources -->
        <div class="section" id="resources">
            <div class="section-header">
                <span class="collapse-icon">‚ñº</span>
                <h2>Additional Resources</h2>
            </div>
            <div class="section-content">
                <h3>Official Documentation</h3>
                <ul>
                    <li><a href="https://docs.anthropic.com/en/docs/claude-code/overview" class="external-link">Claude Code Documentation</a></li>
                    <li><a href="https://docs.anthropic.com/en/docs/claude-code/quickstart" class="external-link">Quickstart Guide</a></li>
                    <li><a href="https://docs.anthropic.com/en/docs/claude-code/cli-reference" class="external-link">CLI Reference</a></li>
                </ul>
                
                <h3>Community Resources</h3>
                <ul>
                    <li><a href="https://github.com/anthropics/claude-code-examples" class="external-link">Example Commands Repository</a></li>
                    <li><a href="https://github.com/tokenbender/agent-guides" class="external-link">Agent Guides - Custom Commands</a></li>
                    <li><a href="https://github.com/hesreallyhim/awesome-claude-code" class="external-link">Awesome Claude Code - Tools & Extensions</a></li>
                </ul>
                
                <h3>Integration Examples</h3>
                <ul>
                    <li><a href="https://github.com/greggh/claude-code.nvim" class="external-link">Neovim Integration</a></li>
                    <li><a href="https://github.com/stevemolitor/claude-code.el" class="external-link">Emacs Integration</a></li>
                    <li><a href="https://docs.anthropic.com/en/docs/claude-code/ide-integrations" class="external-link">IDE Integrations</a></li>
                </ul>
                
                <h3>Advanced Topics</h3>
                <ul>
                    <li><a href="https://docs.anthropic.com/en/docs/claude-code/github-actions" class="external-link">GitHub Actions Integration</a></li>
                    <li><a href="https://docs.anthropic.com/en/docs/claude-code/mcp" class="external-link">Model Context Protocol (MCP)</a></li>
                    <li><a href="https://docs.anthropic.com/en/docs/claude-code/sdk" class="external-link">SDK Usage</a></li>
                </ul>
                
                <h3>Best Practices Articles</h3>
                <ul>
                    <li><a href="https://www.anthropic.com/engineering/claude-code-best-practices" class="external-link">Claude Code Best Practices</a></li>
                    <li><a href="https://vivekhaldar.com/articles/spec-driven-vibe-coding/" class="external-link">Spec-Driven Development with AI</a></li>
                    <li><a href="https://medium.com/@joe.njenga/use-claude-code-hooks-newest-feature-to-fully-automate-your-workflow-341b9400cfbe" class="external-link">Automating Workflows with Hooks</a></li>
                </ul>
            </div>
        </div>
        
        <hr class="separator">
        
        <div class="footer">
            <p><strong>Claude Code Guide</strong> - From Basic Setup to Custom Commands & Hooks</p>
            <p style="margin-top: 10px;">Remember: Start simple, verify everything, and gradually build your automation.</p>
            <p style="margin-top: 10px; font-size: 12px; color: #666;">For issues or feedback: <a href="https://github.com/anthropics/claude-code/issues">GitHub Issues</a></p>
        </div>
    </div>
    
    <script>
        // Initialize all sections as collapsed on page load
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('collapsed');
            });
        });
        
        // Add collapsible sections functionality
        document.querySelectorAll('.section-header').forEach(header => {
            header.addEventListener('click', () => {
                const section = header.parentElement;
                section.classList.toggle('collapsed');
            });
        });
        
        // Smooth scrolling for anchor links with auto-expand
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    // Expand the section if it's collapsed
                    if (target.classList.contains('collapsed')) {
                        target.classList.remove('collapsed');
                    }
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
